<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8" />
    <meta name="author" content="Ruben Wuyts" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--Css file link-->
    <link rel="stylesheet" type="text/css" href="Css_Project_Ruben.css">
    <!--Bootstrap cdn-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
    <title>Project</title>
</head>

<body>
    <main class="container-fluid" id="mainContainer">
        <!--Inleindende tekst-->
        <row class="row">
            <div class="col-6" id="headerFormulier">
                <h1>Registreer</h1>
            </div>
        </row>
        <row class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <p id="introZin">
                    Meld je aan bij Anaroc Service, wij beschermen jouw tegen malware!
                </p>
            </div>
        </row>
        <!--Start formulier-->
        <div class="row" id="formRow">
            <div id="formKolom">
                <form>
                    <div class="row">
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Voornaam-->
                            <div class="mb-3">
                                <label for="voornaam" class="form-label">Voornaam</label>
                                <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam" />
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Familienaam-->
                            <div class="mb-3">
                                <label for="familienaam" class="form-label">Naam</label>
                                <input type="text" class="form-control" id="familienaam" placeholder="Uw naam" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Gebruikersnaam-->
                            <label for="inputGebruikersnaamGroup">Gebruikersnaam</label>
                            <div class="input-group mb-3" id="inputGebruikersnaamGroup">
                                <span class="input-group-text">@</span>
                                <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236" />
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Email-->
                            <div class="mb-3">
                                <label for="email">E-mailadres</label>
                                <input type="email" class="form-control" id="email" placeholder="mail@example.be" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Wachtwoord-->
                            <div class="mb-3">
                                <label for="wachtwoord" class="form-label">Wachtwoord</label>
                                <input type="password" class="form-control" id="wachtwoord"
                                    aria-describedby="wachtwoordHelp" />
                                <div id="wachtwoordHelp" class="form-text">
                                    Je wachtwoord moet minstens 8 tekens lang zijn
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Herhaling Wachtwoord-->
                            <div class="mb-3">
                                <label for="herhalingWachtwoord" class="form-label">Herhaal wachtwoord</label>
                                <input type="password" class="form-control" id="herhalingWachtwoord" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <!--Adres-->
                            <div class="mb-3">
                                <label for="adres" class="form-label">Adres</label>
                                <input type="text" class="form-control" id="adres"
                                    placeholder="Uw adres en huisnummer" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5 col-md-5 col-lg-5">
                            <!--Land-->
                            <label for="landKeuze" class="form-label">Land</label>
                            <select class="form-select" aria-label="land keuze" id="landKeuze">
                                <option selected>Kies een land</option>
                                <option value="1">BelgiÃ«</option>
                                <option value="2">Duitsland</option>
                                <option value="3">Nederland</option>
                                <option value="4">Frankrijk</option>
                                <option value="5">Verenigd Koningkrijk</option>
                            </select>
                        </div>
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <!--Provincie-->
                            <label for="provincieKeuze" class="form-label">Provincie</label>
                            <select class="form-select" aria-label="provincie keuze" id="provincieKeuze">
                                <option selected>Kies een provincie</option>
                                <!--Belgische provincies-->
                                <option value="1">Antwerpen (BE)</option>
                                <option value="2">Limburg (BE)</option>
                                <option value="3">West-Vlaanderen (BE)</option>
                                <option value="4">Henegouwen (BE)</option>
                                <option value="5">Luik (BE)</option>
                                <!--Duitse provincies-->
                                <option value="1">Beieren (DE)</option>
                                <option value="2">Brandenburg (DE)</option>
                                <option value="3">Berlijn (DE)</option>
                                <option value="4">Nedersaksen (DE)</option>
                                <option value="5">Hessen (DE)</option>
                                <!--Nederlands provincies-->
                                <option value="1">Flevoland (NL)</option>
                                <option value="2">Friesland (NL)</option>
                                <option value="3">Groningen (NL)</option>
                                <option value="4">Drenthe (NL)</option>
                                <option value="5">Gelderland (NL)</option>
                                <!--Franse provincies-->
                                <option value="1">Bretagne (FR)</option>
                                <option value="2">Normandie (FR)</option>
                                <option value="3">Provence (FR)</option>
                                <option value="4">Ile-de-France (FR)</option>
                                <option value="5">Occitanie (FR)</option>
                                <!--Verenigd Koningkrijk "provincies"-->
                                <option value="1">Scotland (UK)</option>
                                <option value="2">Wales (UK)</option>
                                <option value="3">West Midlands (UK)</option>
                                <option value="4">Anglia (UK)</option>
                                <option value="5">North East (UK)</option>
                            </select>
                        </div>
                        <div class="col-sm-3 col-md-3 col-lg-3">
                            <!--Postcode-->
                            <label for="postcode" class="form-label">Postcode</label>
                            <input type="text" class="form-control" id="postcode">
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Nieuwsbrief en voorwaarden checkboxen-->
                            <h4>Hou me op de hoogte</h4>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="nieuwsbriefCheck">
                                <label class="form-check-label" for="nieuwsbriefCheck">
                                    Inschrijven voor onze nieuwsbrief
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="voorwaardenCheck">
                                <label class="form-check-label" for="voorwaardenCheck">
                                    Ik ga akkoord met de algemene voorwaarden.
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6 col-lg-6">
                            <!--Betaling radio's-->
                            <h4>Betaling</h4>
                            <div class="form-check">
                                <!--Bank app-->
                                <input class="form-check-input" type="radio" name="betalingsWijze" id="bankingApp">
                                <label class="form-check-label" for="bankingApp">
                                    Banking app
                                </label>
                            </div>
                            <div class="form-check">
                                <!--Overschrijving-->
                                <input class="form-check-input" type="radio" name="betalingsWijze" id="overschrijving">
                                <label class="form-check-label" for="overschrijving">
                                    Overschrijving
                                </label>
                            </div>
                            <div class="form-check">
                                <!--Visa-->
                                <input class="form-check-input" type="radio" name="betalingsWijze" id="visa">
                                <label class="form-check-label" for="visa">
                                    Visa card
                                </label>
                            </div>
                            <div class="form-check">
                                <!--PayPal-->
                                <input class="form-check-input" type="radio" name="betalingsWijze" id="payPalApp">
                                <label class="form-check-label" for="payPalApp">
                                    PayPal
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!--alerts-->
            <div id="alertKolom">
                <div class="alert alert-danger" role="alert" id="errorAlert">
                    <h4 id="alertHeader">Yikes, errors...</h4>
                    <p id="alertTekst"></p>
                </div>
                <div class="alert alert-success" role="alert" id="succesAlert">
                    <h4 id="succesHeader">Goed gedaan!</h4>
                    <p id="succesTekst">Aww yeah, je werd geregistreerd</p>
                </div>
                <div class="alert alert-primary" role="alert" id="betalingAlert">
                    <h4 id="betalingHeader">Betalingswijze</h4>
                    <p id="betalingTekst"></p>
                </div>
            </div>
        </div>
        <hr>
        <!--Knop-->
        <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg" type="button" onclick="validateForm()">Wave your magic wand</button>
        </div>
    </main>
    <script>
        //alerts verstoppen
        document.getElementById("errorAlert").style.display = 'none';
        document.getElementById("succesAlert").style.display = 'none';
        document.getElementById("betalingAlert").style.display = 'none';
        //form breedte instellen, later aanpassen wnr alerts weergeven
        document.getElementById("formKolom").className = "col-sm-12 col-md-12 col-lg-12";
        //error array aanmaken
        let errorArray = [];



        //validate form Functie
        function validateForm() {
            //error array leegmaken in geval dat er nog meldingen inzitten.
            errorArray = [];
            //alerts terug verstoppen indien nodig
            document.getElementById("errorAlert").style.display = 'none';
            document.getElementById("succesAlert").style.display = 'none';
            document.getElementById("betalingAlert").style.display = 'none';

            //Lege velden checks
            //voornaam
            checkEmptyField("voornaam", "Het veld voornaam is vereist");
            //familienaam
            checkEmptyField("familienaam", "Het veld naam is vereist.");
            //gebruikersnaam
            checkEmptyField("gebruikersnaam", "Het veld gebruikersnaam is vereist.");
            //email
            checkEmptyField("email", "Het veld email is vereist.");
            //wachtwoord
            checkEmptyField("wachtwoord", "Het veld wachtwoord is vereist.");
            //herhaling wachtwoord
            checkEmptyField("herhalingWachtwoord", "Het veld herhaal wachtwoord is vereist");
            //adres
            checkEmptyField("adres", "Het veld adres is vereist.");
            //land
            checkEmptyField("landKeuze", "Het veld land is vereist.");
            //provincie
            checkEmptyField("provincieKeuze", "Het veld provincie is vereist");
            //postcode
            checkEmptyField("postcode", "Het veld postcode is vereist.");

            //validaties
            //validatie wachtwoord
            validateWachtwoord("wachtwoord", "herhalingWachtwoord");
            //validatie Email adres
            if (!validateEmail(document.getElementById("email").value) && document.getElementById("email").value.length != 0) {
                errorArray.push("E-mailadres is niet correct.");
            }
            //validatie Betalingswijze
            validatePayment("betalingsWijze");
            //validatie postcode
            checkPC("postcode");
            //validatie voorwaarden
            if (!document.getElementById("voorwaardenCheck").checked) {
                errorArray.push("Je moet de algemene voorwaarden accepteren.");
            }
            //Meldingen weergeven
            if (errorArray.length != 0) {
                errorsWeergeven();
            } else {
                succesWeergeven();
            }

        }

        //leeg veld check functie
        function checkEmptyField(veld, melding) {
            let input = document.getElementById(veld);
            if (input.value.trim() === "") {
                errorArray.push(melding);
            } else if (input.value === "Kies een land") {
                errorArray.push(melding);
            } else if (input.value === "Kies een provincie") {
                errorArray.push(melding);
            }

        }

        //errors weergeven Functie
        function errorsWeergeven() {
            //alert elment terug weergeven
            document.getElementById("errorAlert").style.display = 'block';
            let alertKolom = document.getElementById("alertKolom");
            let formKolom = document.getElementById("formKolom");
            document.getElementById("alertTekst").textContent = "";
            //grid aanpassen
            formKolom.className = "col-sm-8 col-md-8 col-lg-8";
            alertKolom.className = "col-sm-4 col-md-4 col-lg-4";
            //error p tag invullen
            errorArray.forEach(error => {
                document.getElementById("alertTekst").innerHTML += error + "<br>";

            });

        }

        //succes weergeven Functie
        function succesWeergeven() {
            //succes element terug weergeven
            document.getElementById("succesAlert").style.display = 'block';
            document.getElementById("betalingAlert").style.display = 'block';
            let alertKolom = document.getElementById("alertKolom");
            let formKolom = document.getElementById("formKolom");
            //grid aanpassen
            formKolom.className = "col-sm-8 col-md-8 col-lg-8";
            alertKolom.className = "col-sm-4 col-md-4 col-lg-4";
        }

        //email validatie Functie
        function validateEmail(userMail) {
            const emailRegex = /^[^\s@.-]+[^\s@]+@[^\s@]+\.[0-9a-zA-Z]+[^\s@]$/;
            return emailRegex.test(userMail);
        }
        //regex hulpmiddelen: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions

        //wachtwoord validatie Functie
        function validateWachtwoord(veld, herhalingVeld) {
            let input = document.getElementById(veld).value;
            let inputHerhaling = document.getElementById(herhalingVeld).value;
            if (input.length < 8) {
                errorArray.push("Wachtwoord moet minimum 8 karakters lang zijn!");
            }
            if (input !== inputHerhaling) {
                errorArray.push("Wachtwoord moet exact herhaald worden!");
            }
        }

        //betalings wijze validatie Functie
        function validatePayment(veld) {
            let radios = document.getElementsByName(veld);
            radios.forEach(betaalWijze => {
                if (betaalWijze.checked) {
                    document.getElementById("betalingTekst").textContent = "Je betalingswijze is " + betaalWijze.labels[0].textContent;
                    //label van radiobutton aanspreken gehaald van: https://stackoverflow.com/questions/14709617/how-do-i-get-the-label-of-the-selected-radio-button-using-javascript
                }
            });
           // if (document.getElementById("betalingTekst").textContent.length === 0) {
            //    errorArray.push("Duid een betaal methode aan!");
           // }
        }

        //postcode validatie Functie
        function checkPC(veld) {
            if (document.getElementById(veld).value.length != 0) {
                let postcode = parseInt(document.getElementById(veld).value);
                const errorTekst = "De waarde van postcode moet tussen 1000 en 9999 liggen.";
                if (isNaN(postcode)) {
                    errorArray.push(errorTekst);
                } else if (postcode < 1000 || postcode > 9999) {
                    errorArray.push(errorTekst);
                }
            }

        }

    </script>
    <!--Bootstrap script-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>

</html>